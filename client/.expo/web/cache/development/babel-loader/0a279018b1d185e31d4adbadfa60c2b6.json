{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { authInstance } from \"./index\";\nimport { fetchTodoError, fetchTodos, fetchTodosSuccess } from \"../store/todoSlice\";\nexport var getTodos = function getTodos(author) {\n  return function _callee(dispatch) {\n    var _await$authInstance$g, data;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            dispatch(fetchTodos());\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(authInstance.get(\"/api/todos/getTodos/\" + author));\n\n          case 4:\n            _await$authInstance$g = _context.sent;\n            data = _await$authInstance$g.data;\n            dispatch(fetchTodosSuccess(data));\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            dispatch(fetchTodoError(_context.t0));\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n};\nexport var addTodo = function addTodo(todo) {\n  return function _callee2(dispatch) {\n    var _await$authInstance$p, data;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            dispatch(fetchTodos());\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(authInstance.post(\"/api/todos/addTodo\", {}));\n\n          case 4:\n            _await$authInstance$p = _context2.sent;\n            data = _await$authInstance$p.data;\n            dispatch(fetchTodosSuccess(data));\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            dispatch(fetchTodoError(_context2.t0));\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n};","map":{"version":3,"sources":["C:/Users/Сергій/Desktop/Проекти/React Native/Todo-app/client/http/todoAPI.ts"],"names":["authInstance","fetchTodoError","fetchTodos","fetchTodosSuccess","getTodos","author","dispatch","get","data","addTodo","todo","post"],"mappings":";AAAA,SAASA,YAAT;AAEA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,iBAArC;AAGA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAoB;AAC1C,SAAO,iBAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHA,YAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AAFG;AAAA,6CAGoBF,YAAY,CAACO,GAAb,0BACEF,MADF,CAHpB;;AAAA;AAAA;AAGKG,YAAAA,IAHL,yBAGKA,IAHL;AAMHF,YAAAA,QAAQ,CAACH,iBAAiB,CAACK,IAAD,CAAlB,CAAR;AANG;AAAA;;AAAA;AAAA;AAAA;AAQHF,YAAAA,QAAQ,CAACL,cAAc,aAAf,CAAR;;AARG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAWD,CAZM;AAcP,OAAO,IAAMQ,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAiB;AACvC,SAAO,kBAAOJ,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAELA,YAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AAFK;AAAA,6CAGkBF,YAAY,CAACW,IAAb,uBACD,EADC,CAHlB;;AAAA;AAAA;AAGGH,YAAAA,IAHH,yBAGGA,IAHH;AAQLF,YAAAA,QAAQ,CAACH,iBAAiB,CAACK,IAAD,CAAlB,CAAR;AARK;AAAA;;AAAA;AAAA;AAAA;AAULF,YAAAA,QAAQ,CAACL,cAAc,cAAf,CAAR;;AAVK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAaC,CAdK","sourcesContent":["import { authInstance } from \"./index\";\r\nimport { AppDispatch } from \"../store/store\";\r\nimport { fetchTodoError, fetchTodos, fetchTodosSuccess } from \"../store/todoSlice\";\r\nimport { ITodo } from \"../interfaces/ITodo\";\r\n\r\nexport const getTodos = (author: string) => {\r\n  return async (dispatch: AppDispatch) => {\r\n    try {\r\n      dispatch(fetchTodos());\r\n      const { data } = await authInstance.get<ITodo[]>(\r\n        `/api/todos/getTodos/${author}`\r\n      );\r\n      dispatch(fetchTodosSuccess(data));\r\n    } catch (e: any) {\r\n      dispatch(fetchTodoError(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport const addTodo = (todo: ITodo) => {\r\n\treturn async (dispatch: AppDispatch) => {\r\n\t  try {\r\n\t\t dispatch(fetchTodos());\r\n\t\t const { data } = await authInstance.post<ITodo>(\r\n\t\t\t`/api/todos/addTodo`, {\r\n\r\n\t\t\t}\r\n\t\t );\r\n\t\t dispatch(fetchTodosSuccess(data));\r\n\t  } catch (e: any) {\r\n\t\t dispatch(fetchTodoError(e));\r\n\t  }\r\n\t};\r\n };\r\n"]},"metadata":{},"sourceType":"module"}