{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\nvar TODO_APP_API_URL = \"http://localhost:4000\";\nexport var instance = axios.create({\n  baseURL: TODO_APP_API_URL\n});\nexport var authInstance = axios.create({\n  baseURL: TODO_APP_API_URL\n});\n\nvar authInterceptors = function authInterceptors(config) {\n  var token;\n  return _regeneratorRuntime.async(function authInterceptors$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\").then(function (data) {\n            return data;\n          }));\n\n        case 2:\n          token = _context.sent;\n          config.headers.authorization = \"Bearer \" + token;\n          return _context.abrupt(\"return\", config);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nauthInstance.interceptors.request.use(authInterceptors);","map":{"version":3,"sources":["C:/Users/Сергій/Desktop/Проекти/React Native/Todo-app/client/http/index.ts"],"names":["AsyncStorage","axios","TODO_APP_API_URL","instance","create","baseURL","authInstance","authInterceptors","config","getItem","then","data","token","headers","authorization","interceptors","request","use"],"mappings":";AAAA,OAAOA,YAAP,MAAyB,2CAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,gBAAgB,GAAG,uBAAzB;AAEA,OAAO,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AACnCC,EAAAA,OAAO,EAAEH;AAD0B,CAAb,CAAjB;AAGP,OAAO,IAAMI,YAAY,GAAGL,KAAK,CAACG,MAAN,CAAa;AACvCC,EAAAA,OAAO,EAAEH;AAD8B,CAAb,CAArB;;AAIP,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACHR,YAAY,CAACS,OAAb,CAAyB,OAAzB,EAAkCC,IAAlC,CAAuC,UAACC,IAAD;AAAA,mBAAUA,IAAV;AAAA,WAAvC,CADG;;AAAA;AACjBC,UAAAA,KADiB;AAEvBJ,UAAAA,MAAM,CAACK,OAAP,CAAeC,aAAf,eAAyCF,KAAzC;AAFuB,2CAGhBJ,MAHgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB;;AAMAF,YAAY,CAACS,YAAb,CAA0BC,OAA1B,CAAkCC,GAAlC,CAAsCV,gBAAtC","sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport axios from \"axios\";\r\n\r\nconst TODO_APP_API_URL = \"http://localhost:4000\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: TODO_APP_API_URL,\r\n});\r\nexport const authInstance = axios.create({\r\n  baseURL: TODO_APP_API_URL,\r\n});\r\n\r\nconst authInterceptors = async (config) => {\r\n  const token = await AsyncStorage.getItem<IT>(\"token\").then((data) => data);\r\n  config.headers.authorization = `Bearer ${token}`;\r\n  return config;\r\n};\r\n\r\nauthInstance.interceptors.request.use(authInterceptors);\r\n"]},"metadata":{},"sourceType":"module"}