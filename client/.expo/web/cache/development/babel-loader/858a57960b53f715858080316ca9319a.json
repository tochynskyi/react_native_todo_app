{"ast":null,"code":"import { StatusBar } from \"expo-status-bar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Auth from \"./Auth\";\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\nimport Todo from \"./Todo\";\nimport { check } from \"../http/userAPI\";\nimport { useEffect } from \"react\";\nimport { fetchUserError, userLogin, userLoginSuccess } from \"../store/userSlice\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Main = function Main() {\n  var _useAppSelector = useAppSelector(function (state) {\n    return state.user;\n  }),\n      isAuth = _useAppSelector.isAuth,\n      userError = _useAppSelector.userError;\n\n  var dispatch = useAppDispatch();\n  console.log(userError);\n  useEffect(function () {\n    dispatch(userLogin());\n    check().then(function (user) {\n      return !!user && dispatch(userLoginSuccess(user));\n    }).catch(function (error) {\n      return dispatch(fetchUserError(error));\n    });\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [!!userError && _jsx(Text, {\n      children: userError\n    }), _jsx(StatusBar, {\n      style: \"auto\"\n    }), isAuth ? _jsx(Todo, {}) : _jsx(Auth, {})]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#202020\",\n    padding: 10\n  }\n});\nexport default Main;","map":{"version":3,"sources":["C:/Users/Сергій/Desktop/Проекти/React Native/Todo-app/client/pages/Main.tsx"],"names":["StatusBar","Auth","useAppDispatch","useAppSelector","Todo","check","useEffect","fetchUserError","userLogin","userLoginSuccess","Main","state","user","isAuth","userError","dispatch","console","log","then","catch","error","styles","container","StyleSheet","create","flex","backgroundColor","padding"],"mappings":"AAAA,SAASA,SAAT,QAA0B,iBAA1B;;;;AAEA,OAAOC,IAAP;AACA,SAASC,cAAT,EAAyBC,cAAzB;AACA,OAAOC,IAAP;AACA,SAASC,KAAT;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SACEC,cADF,EAEEC,SAFF,EAGEC,gBAHF;;;;AAMA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,wBAA8BP,cAAc,CAAC,UAACQ,KAAD;AAAA,WAAWA,KAAK,CAACC,IAAjB;AAAA,GAAD,CAA5C;AAAA,MAAQC,MAAR,mBAAQA,MAAR;AAAA,MAAgBC,SAAhB,mBAAgBA,SAAhB;;AACA,MAAMC,QAAQ,GAAGb,cAAc,EAA/B;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACdS,IAAAA,QAAQ,CAACP,SAAS,EAAV,CAAR;AACAH,IAAAA,KAAK,GACFa,IADH,CACQ,UAACN,IAAD;AAAA,aAAU,CAAC,CAACA,IAAF,IAAUG,QAAQ,CAACN,gBAAgB,CAACG,IAAD,CAAjB,CAA5B;AAAA,KADR,EAEGO,KAFH,CAES,UAACC,KAAD;AAAA,aAAWL,QAAQ,CAACR,cAAc,CAACa,KAAD,CAAf,CAAnB;AAAA,KAFT;AAID,GANQ,EAMN,EANM,CAAT;AAQA,SACE,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA,eACG,CAAC,CAACR,SAAF,IAAe,KAAC,IAAD;AAAA,gBAAOA;AAAP,MADlB,EAEE,KAAC,SAAD;AAAW,MAAA,KAAK,EAAC;AAAjB,MAFF,EAGGD,MAAM,GAAG,KAAC,IAAD,KAAH,GAAc,KAAC,IAAD,KAHvB;AAAA,IADF;AAOD,CApBD;;AAsBA,IAAMQ,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;AAC/BF,EAAAA,SAAS,EAAE;AACTG,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,eAAe,EAAE,SAFR;AAGTC,IAAAA,OAAO,EAAE;AAHA;AADoB,CAAlB,CAAf;AAQA,eAAejB,IAAf","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport { StyleSheet, View, Text } from \"react-native\";\r\nimport Auth from \"./Auth\";\r\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\r\nimport Todo from \"./Todo\";\r\nimport { check } from \"../http/userAPI\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n  fetchUserError,\r\n  userLogin,\r\n  userLoginSuccess,\r\n} from \"../store/userSlice\";\r\n\r\nconst Main = () => {\r\n  const { isAuth, userError } = useAppSelector((state) => state.user);\r\n  const dispatch = useAppDispatch();\r\n  console.log(userError);\r\n\r\n  useEffect(() => {\r\n    dispatch(userLogin());\r\n    check()\r\n      .then((user) => !!user && dispatch(userLoginSuccess(user)))\r\n      .catch((error) => dispatch(fetchUserError(error)));\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {!!userError && <Text>{userError}</Text>}\r\n      <StatusBar style=\"auto\" />\r\n      {isAuth ? <Todo /> : <Auth />}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#202020\",\r\n    padding: 10,\r\n  },\r\n});\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}